(this["webpackJsonpreact_dynamic-list-of-todos"]=this["webpackJsonpreact_dynamic-list-of-todos"]||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(4),r=n.n(c),s=n(1),l=n(2),u=n(5),i=n(6),d=n(8),m=n(7),p=(n(14),function(){return fetch("https://mate-api.herokuapp.com/todos").then((function(e){return e.json()}))}),f=function(e){return fetch("https://mate-api.herokuapp.com/users/".concat(e)).then((function(e){return e.json()}))},h=(n(15),function(e){var t=e.todos,n=e.changeUser,a=e.changeInput,c=e.filterTodos,r=e.check;return o.a.createElement("div",{className:"TodoList"},o.a.createElement("input",{type:"text",placeholder:"Type search todo",onChange:function(e){a(e.target.value)}}),o.a.createElement("select",{className:"filters",onChange:c},o.a.createElement("option",{name:"All"},"All"),o.a.createElement("option",{name:"Active"},"Active"),o.a.createElement("option",{name:"Completed"},"Completed")),o.a.createElement("h2",null,"Todos:"),o.a.createElement("ul",{className:"TodoList__list"},t.map((function(e){return o.a.createElement("li",{className:"TodoList__item"},o.a.createElement("p",null,"ID : ",e.id),o.a.createElement("label",null,o.a.createElement("input",{type:"checkbox",className:"toggle",onChange:r,id:e.id,value:e.id,checked:e.completed}),e.title),o.a.createElement("button",{type:"button",onClick:function(){n(e.userId)}},"User\xa0#",e.userId))}))))}),E=function(e){var t=e.user,n=e.onClear;return o.a.createElement("div",{className:"CurrentUser"},o.a.createElement("h2",null,"Selected user: ",t.id),o.a.createElement("ul",null,o.a.createElement("li",null,t.name),o.a.createElement("li",null,t.email),o.a.createElement("li",null,t.phone)),o.a.createElement("button",{type:"button",onClick:n},"Clear"))},C=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={todos:[],selectedUserId:0,user:[],todosCopy:[]},e.componentDidMount=function(){p().then((function(t){e.setState({todos:t.data,todosCopy:t.data})}))},e.componentDidUpdate=function(){0!==e.state.selectedUserId&&e.state.selectedUserId!==e.state.user.id&&f(e.state.selectedUserId).then((function(t){e.setState({user:t.data})}))},e.changeUser=function(t){e.setState({selectedUserId:t})},e.changeInput=function(t){e.setState((function(e){return{todosCopy:e.todos.filter((function(e){return e.title?e.title.includes(t):""}))}}))},e.check=function(t){var n=t.target.value;e.setState((function(e){return{todosCopy:e.todosCopy.map((function(e){return e.id!==Number(n)?Object(l.a)({},e):Object(l.a)(Object(l.a)({},e),{},{completed:!e.completed})}))}}))},e.onClear=function(){e.setState({user:"",selectedUserId:0})},e.filterTodos=function(t){switch(t.target.value){case"All":e.setState((function(e){return{todosCopy:Object(s.a)(e.todos)}}));break;case"Active":e.setState((function(e){return{todosCopy:Object(s.a)(e.todos.filter((function(e){return!e.completed})))}}));break;case"Completed":e.setState((function(e){return{todosCopy:Object(s.a)(e.todos.filter((function(e){return e.completed})))}}));break;default:return!1}},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this.state,t=e.todosCopy,n=e.selectedUserId,a=e.user;return o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"App__sidebar"},o.a.createElement(h,{todos:t,changeUser:this.changeUser,changeInput:this.changeInput,filterTodos:this.filterTodos,check:this.check})),o.a.createElement("div",{className:"App__content"},n?o.a.createElement(E,{user:a,onClear:this.onClear}):"No user selected"))}}]),n}(o.a.Component);r.a.render(o.a.createElement(C,null),document.getElementById("root"))},9:function(e,t,n){e.exports=n(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.3ae224da.chunk.js.map